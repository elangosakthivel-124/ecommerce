{% extends 'base.html' %}
{% block content %}

<form method="GET" class="mb-3">
<input name="q" class="form-control" placeholder="Search products">
</form>

<div class="row">

<div class="col-md-2">

<h6>Categories</h6>

{% for c in categories %}
<a href="/?category={{c.id}}" class="d-block">{{ c.name }}</a>
{% endfor %}

</div>

<div class="col-md-10">

<div class="row">

{% for p in products %}

<div class="col-md-3">

<div class="card mb-3">
<img src="{{ p.image.url }}" class="card-img-top">

<div class="card-body">
<h6>{{ p.name }}</h6>
<p>â‚¹{{ p.price }}</p>
<a href="/product/{{p.id}}/" class="btn btn-sm btn-dark">View</a>
</div>

</div>

</div>

{% endfor %}

</div>

</div>

</div>

<!-- Pagination -->

<div class="mt-3">

{% if products.has_previous %}
<a href="?page={{products.previous_page_number}}">Prev</a>
{% endif %}

Page {{ products.number }} of {{ products.paginator.num_pages }}

{% if products.has_next %}
<a href="?page={{products.next_page_number}}">Next</a>
{% endif %}

</div>

{% endblock %}
